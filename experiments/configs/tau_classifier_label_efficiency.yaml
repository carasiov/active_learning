# τ-Classifier Label Efficiency Test
# Purpose: Test τ-classifier performance with varying amounts of labeled data
# Expected: Should scale gracefully with limited labels (10→50→100 samples)

experiment:
  name: "tau_classifier_label_efficiency"
  description: "Test τ-classifier with varying labeled sample counts (10, 25, 50, 100)"
  tags: ["tau", "label-efficiency", "semi-supervised"]
  date: "2025-11-10"

data:
  dataset: "mnist"
  num_samples: 5000
  # Run multiple sub-experiments with different label counts
  label_counts: [10, 25, 50, 100]  # Will run 4 separate experiments
  seed: 42

model:
  prior_type: "mixture"
  num_components: 10
  latent_dim: 2
  hidden_dims: [256, 128, 64]
  encoder_type: "dense"
  decoder_type: "dense"

  # Component-aware decoder + τ-classifier
  use_component_aware_decoder: true
  component_embedding_dim: 8
  use_tau_classifier: true
  tau_smoothing_alpha: 1.0

  # Regularization
  component_diversity_weight: -0.05
  dirichlet_alpha: 5.0
  kl_c_weight: 0.001

training:
  batch_size: 128
  learning_rate: 0.001
  max_epochs: 50
  patience: 15

  recon_weight: 1.0
  kl_weight: 1.0
  label_weight: 1.0

callbacks:
  - logging
  - plotting
  - mixture_tracking

output:
  checkpoint: true
  visualizations: true
  diagnostics: true

# Expected results
# (from mathematical spec: "50→100 labels = +10.4% accuracy")
expected_accuracy_trend:
  10_labels: "~40%"
  25_labels: "~50%"
  50_labels: "~55%"
  100_labels: "~65%"

metrics_to_track:
  - accuracy_vs_label_count
  - tau_matrix_sparsity
  - components_per_label
  - label_coverage  # How many components used per label
